{% extends "User/user-standard.html" %}
{% load static %}

{% block title %}Adopta!{% endblock %}

{% block content-header %}Adoptar{% endblock %}

{% block content %}

<div id="map" style="width:1350px;height:700px;background:yellow"></div>
    <script>
      	
 
      function initMap() {
        var infoWindow;
        var beau850 = {lat: -33.4400124, lng: -70.6782374};
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 15,
          center: beau850
        });
        infoWindow = new google.maps.InfoWindow;
	var marker1 = new google.maps.Marker({
            position: {lat: -33.458773, lng: -70.663807},
	    url: '',
	    icon: '',
            map: map
        });
	var marker2 = new google.maps.Marker({
            position: {lat: -33.456773, lng: -70.665807},
	    url: '',
            map: map

        });
	var marker3 = new google.maps.Marker({
            position: {lat: -33.458786, lng: -70.660819},
	    url: '',
            map: map
        });
	    google.maps.event.addListener(marker1, 'click', function() {
	      window.location.href = marker1.url;
	    });
	    google.maps.event.addListener(marker2, 'click', function() {
	      window.location.href = marker2.url;
	    });
	    google.maps.event.addListener(marker2, 'click', function() {
	      window.location.href = marker2.url;
	    });

        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function(position) {
            var pos = {
              lat: position.coords.latitude,
              lng: position.coords.longitude
            }
                    var myCity = new google.maps.Circle({
    center: pos,
    radius: 15,
    strokeColor: "#0000FF",
    strokeOpacity: 0.7,
    strokeWeight: 2,
    fillColor: "#0000FF",
    fillOpacity: 0.4
  });
        myCity.setMap(map);
            map.setCenter(pos);
          }, function() {
            handleLocationError(true, infoWindow, map.getCenter());
          });
        } else {
          // Browser doesn't support Geolocation
          handleLocationError(false, infoWindow, map.getCenter());
        }
      }
      function handleLocationError(browserHasGeolocation, infoWindow, pos) {
        infoWindow.setPosition(pos);
        infoWindow.setContent(browserHasGeolocation ?
                              'Error: The Geolocation service failed.' :
                              'Error: Your browser doesn\'t support geolocation.');
        
      }
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAKrwK5Ra7Lrbam0i1ifeMrlPHnN1Tctpk&callback=initMap">
    </script>

{% endblock %}


<!-- Optionally, you can add Slimscroll and FastClick plugins.
Both of these plugins are recommended to enhance the
user experience.
<script>

    function placeMarker(map, location) {
        var marker = new google.maps.Marker({
            position: location,
            map: map
        });
        var infowindow = new google.maps.InfoWindow({
            content: 'Nombre ONG'
        });
        infowindow.open(map, center);
    }
    function myMap() {
        var mapCanvas = document.getElementById("map");
        var myCenter = new google.maps.LatLng(-33.457394, -70.664601);
        var centerOne = new google.maps.LatLng(-33.453291, -70.667269);
        var centerTwo = new google.maps.LatLng(-33.455908, -70.674335);
        var centerThree = new google.maps.LatLng(-33.466617, -70.676903);
        var mapOptions = {center: myCenter, zoom: 15};
        var map = new google.maps.Map(mapCanvas, mapOptions);
        var myCity = new google.maps.Circle({
            center: myCenter,
            radius: 15,
            strokeColor: "#0000FF",
            strokeOpacity: 0.7,
            strokeWeight: 2,
            fillColor: "#0000FF",
            fillOpacity: 0.4
        });
        var map = new google.maps.Map(mapCanvas, mapOptions);
        myCity.setMap(map);
        google.maps.event.addListener(map, 'click', function (event) {
            placeMarker(map, event.latLng);
        });
        var infowindow = new google.maps.InfoWindow({
            content: "ONG Favorita"
        });

        infowindow.open(map);
    }
</script>
-->
<!-- Mapa de google
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAKrwK5Ra7Lrbam0i1ifeMrlPHnN1Tctpk&callback=myMap"></script>
-->
